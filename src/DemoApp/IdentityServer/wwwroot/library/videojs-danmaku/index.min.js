(function(n,t){var r=t,i=n.videojs,u=i.getComponent("Component"),f=i.extend(u,{constructor:function(n,t){u.apply(this,arguments);n.on("ready",function(){t.commentManager.init();for(var n of t.commentProviders)n.addTarget(t.commentManager),n.load().then(function(){i.log("弹幕已载入")}).catch(function(n){i.log("弹幕载入出错");console.error(n)})});n.on("play",function(){t.commentManager.start()});n.on("pause",function(){t.commentManager.stop()});n.on("timeupdate",function(){t.commentManager.time(n.currentTime()*1e3)});n.on("playerresize",function(){r(t.commentManager.stage).width(n.currentWidth());r(t.commentManager.stage).height(n.currentHeight()-30);t.commentManager.setBounds()})},createEl:function(){var n=r(`<div class="vjs-danmaku abp" style="display:contents;">
                       <div class="vjs-danmaku-stage abp-container" style="pointer-events: none;"></div>
                     </div>`);return this.options().commentManager.stage=r("div",n)[0],n[0]}});i.registerComponent("Danmaku",f)})(window,jQuery);