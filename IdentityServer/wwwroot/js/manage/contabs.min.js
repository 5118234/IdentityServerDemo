$(function(){function n(n){var t=0;return $(n).each(function(){t+=$(this).outerWidth(!0)}),t}function t(t){var f=n($(t).prevAll()),e=n($(t).nextAll()),o=n($(".content-tabs").children().not(".J_menuTabs")),r=$(".content-tabs").outerWidth(!0)-o,i=0,u;if($(".page-tabs-content").outerWidth()<r)i=0;else if(e<=r-$(t).outerWidth(!0)-$(t).next().outerWidth(!0)){if(r-$(t).next().outerWidth(!0)>e)for(i=f,u=t;i-$(u).outerWidth()>$(".page-tabs-content").outerWidth()-r;)i-=$(u).prev().outerWidth(),u=$(u).prev()}else f>r-$(t).outerWidth(!0)-$(t).prev().outerWidth(!0)&&(i=f-$(t).prev().outerWidth(!0));$(".page-tabs-content").animate({marginLeft:0-i+"px"},"fast")}function i(){var f=Math.abs(parseInt($(".page-tabs-content").css("margin-left"))),e=n($(".content-tabs").children().not(".J_menuTabs")),r=$(".content-tabs").outerWidth(!0)-e,u=0,t,i;if($(".page-tabs-content").width()<r)return!1;for(t=$(".J_menuTab:first"),i=0;i+$(t).outerWidth(!0)<=f;)i+=$(t).outerWidth(!0),t=$(t).next();if(i=0,n($(t).prevAll())>r){while(i+$(t).outerWidth(!0)<r&&t.length>0)i+=$(t).outerWidth(!0),t=$(t).prev();u=n($(t).prevAll())}return $(".page-tabs-content").animate({marginLeft:0-u+"px"},"fast"),null}function r(){var f=Math.abs(parseInt($(".page-tabs-content").css("margin-left"))),e=n($(".content-tabs").children().not(".J_menuTabs")),u=$(".content-tabs").outerWidth(!0)-e,r,t,i;if($(".page-tabs-content").width()<u)return!1;for(t=$(".J_menuTab:first"),i=0;i+$(t).outerWidth(!0)<=f;)i+=$(t).outerWidth(!0),t=$(t).next();for(i=0;i+$(t).outerWidth(!0)<u&&t.length>0;)i+=$(t).outerWidth(!0),t=$(t).next();return r=n($(t).prevAll()),r>0&&$(".page-tabs-content").animate({marginLeft:0-r+"px"},"fast"),null}function u(){var r=$(this),n=r.attr("href"),o=r.data("index"),s=$.trim(r.text()),u=!0,f,e,i;if(n!==undefined&&$.trim(n).length!==0){if($(".J_menuTab").each(function(){var i=$(this);if(i.data("id")===n){i.hasClass("active")||(i.addClass("active").addClass("text-themecolor").siblings(".J_menuTab").removeClass("active").removeClass("text-themecolor"),t(this),$(".J_mainContent .J_iframe").each(function(){if($(this).data("id")===n){$(this).show().siblings(".J_iframe").hide();$(window).trigger("resize");return}return}));u=!1;return}return}),u){f='<a href="javascript:;" class="active text-themecolor J_menuTab" data-id="'+n+'">'+s+' <i class="fa fa-times-circle J_closeTab"><\/i><\/a>';$(".J_menuTab").removeClass("active").removeClass("text-themecolor");e='<iframe class="J_iframe" name="iframe'+o+'" width="100%" height="100%" frameborder="0" data-id="'+n+'" seamless><\/iframe>';i=$(e);$(".J_mainContent").find("iframe.J_iframe").length>0?$(".J_mainContent").find("iframe.J_iframe").hide().parents(".J_mainContent").append(i):$(".J_mainContent").append(i);i.on("load",function(){$(window).trigger("resize")});i.attr("src",n);$(".J_menuTabs .page-tabs-content").append(f);t($(".J_menuTab.active"))}return}}function f(){var n=$(this),i=n.parents(".J_menuTab").data("id"),f=n.parents(".J_menuTab").width(),r,u;return n.parents(".J_menuTab").hasClass("active")?(n.parents(".J_menuTab").next(".J_menuTab").length>0&&(r=n.parents(".J_menuTab").next(".J_menuTab:eq(0)").data("id"),n.parents(".J_menuTab").next(".J_menuTab:eq(0)").addClass("active").addClass("text-themecolor"),$(".J_mainContent .J_iframe").each(function(){return $(this).data("id")===r?($(this).show().siblings(".J_iframe").hide(),!1):null}),u=parseInt($(".page-tabs-content").css("margin-left")),u<0&&$(".page-tabs-content").animate({marginLeft:u+f+"px"},"fast"),$(this).parents(".J_menuTab").remove(),$(".J_mainContent .J_iframe").each(function(){return $(this).data("id")===i?($(this).remove(),!1):null})),n.parents(".J_menuTab").prev(".J_menuTab").length>0&&(r=n.parents(".J_menuTab").prev(".J_menuTab:last").data("id"),n.parents(".J_menuTab").prev(".J_menuTab:last").addClass("active").addClass("text-themecolor"),$(".J_mainContent .J_iframe").each(function(){return $(this).data("id")===r?($(this).show().siblings(".J_iframe").hide(),!1):null}),$(this).parents(".J_menuTab").remove(),$(".J_mainContent .J_iframe").each(function(){return $(this).data("id")===i?($(this).remove(),!1):null})),n.parents(".J_menuTab").siblings(".J_menuTab").length===0&&($(this).parents(".J_menuTab").remove(),$(".J_mainContent .J_iframe").each(function(){return $(this).data("id")===i?($(this).remove(),!1):null}))):($(this).parents(".J_menuTab").remove(),$(".J_mainContent .J_iframe").each(function(){return $(this).data("id")===i?($(this).remove(),!1):null}),t($(".J_menuTab.active"))),!1}function e(){$(".page-tabs-content").children("[data-id]").not(".active").each(function(){$('.J_iframe[data-id="'+$(this).data("id")+'"]').remove();$(this).remove()});$(".page-tabs-content").css("margin-left","0")}function o(){t($(".J_menuTab.active"))}function s(){var n=$(this),i;n.hasClass("active")||(i=n.data("id"),$(".J_mainContent .J_iframe").each(function(){return $(this).data("id")===i?($(this).show().siblings(".J_iframe").hide(),$(window).trigger("resize"),!1):null}),n.addClass("active").addClass("text-themecolor").siblings(".J_menuTab").removeClass("active").removeClass("text-themecolor"),t(this))}function h(){var n=$('.J_iframe[data-id="'+$(this).data("id")+'"]'),t=n.attr("src");n.on("load",function(){}).attr("src",t)}$(".J_menuItem").each(function(n){$(this).attr("data-index")||$(this).attr("data-index",n)});$(".J_menuItem").on("click",u);$(".J_menuTabs").on("click",".J_menuTab .J_closeTab",f);$(".J_tabCloseOther").on("click",e);$(".J_tabShowActive").on("click",o);$(".J_menuTabs").on("click",".J_menuTab",s);$(".J_menuTabs").on("dblclick",".J_menuTab",h);$(".J_tabLeft").on("click",i);$(".J_tabRight").on("click",r);$(".J_tabCloseAll").on("click",function(){var n=$(".page-tabs-content");n.children("[data-id]").each(function(){$('.J_iframe[data-id="'+$(this).data("id")+'"]').remove();$(this).remove()});n.css("margin-left","0")})});